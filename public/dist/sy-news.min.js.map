{"version":3,"sources":["core.js","syNews-autofocus.js","syNews-fullscreenButton.js","syNews-i18n.js","syNews-stopPropagation.js","syNews-timeMachine.js","syNews-UI.js","syNews-oneDayStore.js","syNews-selectNewsItem.js","syNews-timeHelper.js"],"names":["angular","module","config","$locationProvider","$stateProvider","$urlRouterProvider","otherwise","now","Date","year","getFullYear","month","getMonth","day","getDate","h","getHours","country","JSON","parse","localStorage","getItem","html5Mode","state","abstract","url","template","controller","$scope","$stateParams","saveCountry","parent","templateUrl","$location","store","syNewsTimeHelper","hour","search","title","q","isToday","path","selectNewsInfo","selectDate","toHourMs","selectOldNewsInfo","toDayMs","set","isOldNews","toggleNews","refreshNews","factory","$cacheFactory","$http","$timeout","$window","$state","oldNewsCache","sySelectNewsItem","syOneDayStore","syUI","setSelectNewsState","data","isShow","isNewsExist","newsBox","getSelectedDateNews","selectData","isPreload","checkSelectOldNewsCaret","checkSelectNewsCaret","cache_data","newsID","selectCountry","lastStep","isHideCaretRight","isHideCaretLeft","isNewsDone","get","isAllDay","post","success","status","headers","put","msg","error","getDayMs","removeAll","isShowTimeMachine","toggleBGC","cardFlip","newsDate","getHoursMs","go","toString","oldNewsDate","updateQueryParam","notify","reload","timeMachineInfo","selectNews","step","toggleDirection","dateObj","getDateObj","parseInt","reset","timeMachineSelectNews","M","D","Y","H","$watch","newVal","oldVal","addEventListener","e","target","tagName","toLowerCase","keyCode","directive","restrict","link","scope","elem","attr","focus","bind","document","fullscreenElement","webkitFullscreenElement","mozFullScreenElement","exitFullscreen","mozCancelFullScreen","webkitExitFullscreen","documentElement","requestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","Element","ALLOW_KEYBOARD_INPUT","replace","showCountryList","i","country_list","length","cache","countryList","push","hideCountryList","index","indexOf","splice","unshift","changeCountry","country_len","stopPropagation","toggleTimeMachine","service","this","element","getElementById","addClass","removeClass","toggleClass","oneDayStore","getNamespacedStore","news","tomorrow","ls","len","reg","j","test","key","remove","id","newsItemList","getElementsByClassName","date","dateMs","now_year","now_month","now_day"],"mappings":"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","file":"sy-news.min.js","sourcesContent":["angular.module('ShinyaNews', [\n    'ngTouch',\n    'ngAnimate',\n    'ui.router',\n    'angular-storage',\n    'ShinyaNews.stopPropagationDirective',\n    'ShinyaNews.i18nDirective',\n    'ShinyaNews.fullscreenButtonDirective',\n    'ShinyaNews.timeMachineDirective',\n    'ShinyaNews.autofocusDirective',\n    'ShinyaNews.timeHelperServices',\n    'ShinyaNews.selectNewsItemServices',\n    'ShinyaNews.oneDayStoreServices',\n    'ShinyaNews.UIServices'\n])\n.config(['$locationProvider', '$stateProvider', '$urlRouterProvider', \n    function($locationProvider, $stateProvider, $urlRouterProvider) {\n\n    // 無效 URL，跳轉到今日現時「新聞，」\n    $urlRouterProvider.otherwise(function (){\n        var now     = new Date(),\n            year    = now.getFullYear(),\n            month   = now.getMonth() + 1,\n            day     = now.getDate(),\n            h       = now.getHours(),\n            country = JSON.parse(localStorage.getItem('syNewsCountry')) || \"HK\";\n\n        return country + '/' + year + '/' + month + '/' + day + '?h=' + h;\n    })\n\n    $locationProvider.html5Mode(true)\n\n    $stateProvider\n        .state('country', {\n            abstract: true,\n            url: \"/{country:BR|CN|DE|FR|HK|IN|JP|KR|RU|TW|US}\",\n            template: '<div ui-view></div>',\n            controller: ['$scope', '$stateParams', function ($scope, $stateParams){\n                // 更改並保存「國家」\n                $scope.saveCountry($stateParams.country)\n            }]\n        })\n        .state('date', {\n            parent: 'country',\n            url: \"/{year:201[5-6]}/{month:0?[1-9]|1[0-2]}/{day:0?[0-9]|[12][0-9]|3[0-1]}?h&q\",\n            templateUrl: '/public/dist/newsBox.min.html',\n            controller: ['$scope', '$location', '$stateParams', 'store', 'syNewsTimeHelper', \n                function ($scope, $location, $stateParams, store, syNewsTimeHelper){\n\n                var year    = $stateParams.year,\n                    month   = $stateParams.month,\n                    day     = $stateParams.day,\n                    hour    = $stateParams.h;\n\n                $scope.search.title = $stateParams.q\n\n                if (syNewsTimeHelper.isToday(year, month, day)){\n\n                    hour > 0 && hour <= 24\n                        ? null\n                        : $location.path('/')\n\n                    $scope.selectNewsInfo.selectDate = syNewsTimeHelper.toHourMs(year, month, day, hour)\n                } else {\n                    $scope.selectOldNewsInfo.selectDate = syNewsTimeHelper.toDayMs(year, month, day)\n                    store.set('lastOldNewsDate', $scope.selectOldNewsInfo.selectDate)\n\n                    $scope.isOldNews\n                        ? null\n                        : $scope.toggleNews() // 從 URL 直接訪問「舊聞。」\n                }\n                $scope.refreshNews()\n            }]\n        })\n\n}])\n.factory('oldNewsCache', ['$cacheFactory', function($cacheFactory){\n    return $cacheFactory('oldNewsCache')\n}])\n.controller('rootController', [\n        '$scope', '$http', '$timeout', '$window', \n        '$state', '$stateParams', 'store', \n        'oldNewsCache', 'syNewsTimeHelper', \n        'sySelectNewsItem', 'syOneDayStore', 'syUI',\n    function ($scope, $http, $timeout, $window, \n        $state, $stateParams, store, \n        oldNewsCache, syNewsTimeHelper, \n        sySelectNewsItem, syOneDayStore, syUI){\n\n    // 刪除緩存於本地的過期信息\n    store.get('oneDayNewsExpires') < Date.now()\n        ? syOneDayStore.removeAll()\n        : null\n\n    /*************\n     * 用戶介面相關\n     *\n     *  `$scope.isShow` 是否顯示 XXX（加載動畫、選擇新聞按鈕）\n     *  `$scope.isNewsExist` 是否顯示「獲取新聞錯誤」提醒\n     *  `$scope.isOldNews` & `$scope.toggleNews` 「新聞，」「舊聞。」切換\n     *  `$scope.isShowTimeMachine` 顯示／隱藏「跳躍性選擇新聞介面」\n     *  `$scope.updateQueryParam` 「定位新聞」，更新 URL，方便分享新聞\n     */\n    $scope.isShow = false\n    $scope.isNewsExist = true\n    $scope.isOldNews = false\n    $scope.isShowTimeMachine = false\n    $scope.toggleNews = function (){\n\n        syUI.toggleBGC()\n        syUI.cardFlip()\n\n        if ($scope.isOldNews){\n            // 切換到「新聞，」\n            var newsDate = new Date($scope.selectNewsInfo.selectDate \n                            || syNewsTimeHelper.getHoursMs(new Date().getHours()))\n            $state.go('date', {\n                year : newsDate.getFullYear().toString(),\n                month: (newsDate.getMonth() + 1).toString(),\n                day  : newsDate.getDate().toString(),\n                h    : newsDate.getHours().toString(),\n                q    : null\n            })\n        } else {\n            // 切換到「舊聞。」\n            var oldNewsDate = new Date($scope.selectOldNewsInfo.selectDate\n                                || syNewsTimeHelper.getDayMs(Date.now()) - 86400000)\n            $state.go('date', {\n                year : oldNewsDate.getFullYear().toString(),\n                month: (oldNewsDate.getMonth() + 1).toString(),\n                day  : oldNewsDate.getDate().toString(),\n                h    : null,\n                q    : $stateParams.h\n                            ? null\n                            : $stateParams.q\n            })\n        }\n\n        $scope.isOldNews = !$scope.isOldNews\n    }\n    $scope.updateQueryParam = function (title){\n        $state.go('date', {\n            q    : title\n        }, { notify: false, reload: true })\n    }\n\n    /*************\n     * 獲取新聞相關\n     *\n     *  `$scope.newsBox` 當前顯示的新聞\n     *  `$scope.selectNewsInfo` 存儲「新聞，」當前新聞日期信息\n     *  `$scope.selectOldNewsInfo` 存儲「舊聞。」當前新聞日期信息\n     *  `$scope.timeMachineInfo` 存儲「跳躍性選擇新聞」的日期信息\n     *  `$scope.search` 搜索\n     *  `$scope.isHideCaret--XXX` 是否隱藏選擇新聞按鈕\n     *  `$scope.selectNews` 選擇新聞\n     *  `$scope.timeMachineSelectNews` 「跳躍性選擇新聞」\n     *  `$scope.refreshNews` 刷新新聞\n     */\n    var lastStep = -1\n\n    $scope.newsBox = []\n    $scope.selectCountry = store.get('syNewsCountry') || 'HK'\n    $scope.selectNewsInfo = {\n        selectDate: 0,\n        selectCountry: $scope.selectCountry,\n        isAllDay: false\n    }\n    $scope.selectOldNewsInfo = {\n        selectDate: store.get('lastOldNewsDate'),\n        selectCountry: $scope.selectCountry,\n        isAllDay: true\n    }\n    $scope.timeMachineInfo = {}\n    $scope.search = {}\n    $scope.isHideCaretLeft  = false\n    $scope.isHideCaretRight = false\n    $scope.selectNews = function (step){\n\n        syUI.toggleDirection(step)\n\n        // 屏蔽（移動端／鍵盤操作）無效的獲取新聞（滑動）\n        if (step === 1 && $scope.isHideCaretRight || step === -1 && $scope.isHideCaretLeft){ return; }\n\n        if (!$scope.isOldNews){\n            // 選擇「新聞，」\n            $state.go('date', {\n                h: (parseInt($stateParams.h \n                                ? $stateParams.h \n                                : new Date().getHours()\n                            ) + step).toString(),\n                q: null\n            })\n        } else {\n            // 選擇「舊聞。」\n            var dateObj = syNewsTimeHelper.getDateObj(\n                            $scope.selectOldNewsInfo.selectDate + 86400000 * step)\n            $state.go('date', {\n                month: dateObj.month,\n                day  : dateObj.day,\n                h    : null,\n                q    : null\n            })\n        }\n\n        // 預加載判斷\n        if (step === lastStep){\n            getSelectedDateNews({\n                selectDate: $scope.isOldNews\n                                ? $scope.selectOldNewsInfo.selectDate + 172800000 * step\n                                : $scope.selectNewsInfo.selectDate + 7200000 * step,\n                selectCountry: $scope.selectCountry,\n                isAllDay: $scope.isOldNews ? true : false\n            }, true)\n        } else {\n            lastStep = step\n        }\n\n        // 重置新聞項\n        sySelectNewsItem.reset()\n    }\n    $scope.timeMachineSelectNews = function (hour){\n        if (!$scope.isOldNews){\n            var h = hour\n                        ? hour === -1\n                            ? 1\n                            : new Date().getHours()\n                        : $scope.timeMachineInfo.H\n\n            h <= $stateParams.h\n                ? syUI.toggleDirection(-1)\n                : syUI.toggleDirection(1)\n\n            $state.go('date', {\n                h    : h,\n                q    : null\n            })\n        } else {\n            $scope.timeMachineInfo.M  <= $stateParams.month \n            && $scope.timeMachineInfo.D <= $stateParams.day\n                ? syUI.toggleDirection(-1)\n                : syUI.toggleDirection(1)\n\n            $state.go('date', {\n                year : '20' + $scope.timeMachineInfo.Y,\n                month: $scope.timeMachineInfo.M,\n                day  : $scope.timeMachineInfo.D,\n                h    : null,\n                q    : null\n            })\n        }\n        $scope.isShowTimeMachine = false\n    }\n    $scope.refreshNews = function(){\n        $scope.isOldNews\n            ? getSelectedDateNews($scope.selectOldNewsInfo)\n            : getSelectedDateNews($scope.selectNewsInfo)\n    }\n\n\n    /******\n     * 監聽\n     *\n     *  `$scope.search.title` 更新 URL\n     *  `keydown` 鍵盤操作\n     */\n    $scope.$watch('search.title', function (newVal, oldVal){\n\n        if (newVal === oldVal){ return; }\n\n        $state.go('date', {\n            q    : newVal\n        }, { notify: false, reload: true })\n    })\n    $window.addEventListener('keydown', function (e){\n\n        if (e.target.tagName.toLowerCase() === 'input') return;\n\n        var keyCode = e.keyCode\n\n        keyCode === 37    // ←\n            ? $scope.selectNews(-1)\n        : keyCode === 39  // →\n            ? $scope.selectNews(1)\n        : keyCode === 38  // ↑\n            ? sySelectNewsItem.go(-1)\n        : keyCode === 40  // ↓\n            ? sySelectNewsItem.go(1)\n        : null\n    })\n\n\n    /*********\n     * Helper\n     *\n     *  `setSelectNewsState` 設置 `$scope.newsBox`, `$scope.isShow` & `$scope.isNewsExist`\n     *  `getSelectedDateNews` 獲取選擇時段／日期的新聞\n     *  `checkSelectNewsCaret` 檢測是否顯示選擇新聞按鈕\n     */\n    function setSelectNewsState(data, isShow, isNewsExist){\n        $scope.newsBox     = data\n        $scope.isShow      = isShow\n        $scope.isNewsExist = isNewsExist\n    }\n    function getSelectedDateNews(selectData, isPreload){\n        $scope.isOldNews\n            ? checkSelectOldNewsCaret()\n            : checkSelectNewsCaret()\n\n        var newsID = selectData.selectDate + $scope.selectCountry,\n            cache_data;\n\n        if (isPreload){\n            // 取消預加載此新聞\n            if (lastStep === 1 && $scope.isHideCaretRight \n                || lastStep === -1 && $scope.isHideCaretLeft){ return; }\n        } else {\n            setSelectNewsState([], false, true)\n            // 已閱標記\n            $scope.isNewsDone = false\n            if (syOneDayStore.get(newsID + '-Done')){\n                $scope.isNewsDone = true\n            } else if (!$scope.isOldNews){\n                syOneDayStore.set(newsID + '-Done', true)\n                $scope.isNewsDone = false\n            }\n        }\n\n        // 尝试从本地获取新闻\n        cache_data = selectData.isAllDay\n                        ? oldNewsCache.get(newsID)\n                        : syOneDayStore.get(newsID)\n        if (cache_data){\n            isPreload\n                ? null\n                : setSelectNewsState(cache_data, true, true)\n            return;\n        }\n        // 否则，從服務器获取新闻\n        $http\n        .post('/api/getSelectedDateNews', selectData)\n        .success(function (data, status, headers, config){\n            if (config.data.isAllDay){\n                oldNewsCache.put(newsID, data.msg)\n            } else {\n                syOneDayStore.set(newsID, data.msg)\n            }\n            if (isPreload){ return; }\n            setSelectNewsState(data.msg, true, true)\n        })\n        .error(function (data, status, headers, config){\n            if (isPreload){ return; }\n            setSelectNewsState([], true, false)\n        })\n    }\n    function checkSelectNewsCaret(){\n        var selectDate = $scope.selectNewsInfo.selectDate\n        // 小於今日 0 時\n        $scope.isHideCaretLeft = selectDate - 3600000 === syNewsTimeHelper.getDayMs(new Date())\n            ? true\n            : false\n        // 大於現在時間\n        $scope.isHideCaretRight = selectDate + 3600000 > Date.now()\n            ? true\n            : false\n    }\n    function checkSelectOldNewsCaret(){\n        var selectDate = $scope.selectOldNewsInfo.selectDate\n        $scope.isHideCaretLeft = false\n        // 大於今日\n        $scope.isHideCaretRight = selectDate + 172800000 > Date.now()\n            ? true\n            : false\n    }\n}])","angular.module('ShinyaNews.autofocusDirective', [])\n.directive('syNewsAutofocus', function (){\n    return {\n        restrict: 'A',\n        link: function (scope, elem, attr){\n            elem[0].focus()\n        }\n    }\n})","angular.module('ShinyaNews.fullscreenButtonDirective', [])\n.directive('syNewsFullscreenButton', function (){\n    return {\n        restrict: 'E',\n        template: '\n            <svg class=\"fullscreen corner--bottom--left animate--faster\" viewBox=\"0 0 156 158\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path class=\"animate--faster\" d=\"M46.453 115.914c7.449 9.512 6.807 23.33-1.927 32.1-9.426 9.466-24.709 9.466-34.136 0-9.426-9.466-9.426-24.813 0-34.279 8.967-9.004 23.233-9.443 32.717-1.317l68.339-68.625c-8.751-9.508-8.528-24.344.669-33.58 9.426-9.466 24.709-9.466 34.136 0 9.426 9.466 9.426 24.813 0 34.279-8.497 8.532-21.752 9.374-31.188 2.524l-68.611 68.898z\" stroke=\"#CECECF\" stroke-width=\"5\" fill=\"#CECECF\"/>\n            </svg>\n        ',\n        link: function (scope, elem, attr){\n            // 切換全屏模式\n            elem.bind('click', function (e){\n                if (!document.fullscreenElement && !document.webkitFullscreenElement && !document.mozFullScreenElement){\n                    document.documentElement.requestFullscreen\n                        ? document.documentElement.requestFullscreen()\n                    : document.documentElement.mozRequestFullScreen\n                        ? document.documentElement.mozRequestFullScreen()\n                    : document.documentElement.webkitRequestFullscreen\n                        ? document.documentElement.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)\n                    : null\n                } else {\n                    document.exitFullscreen\n                        ? document.exitFullscreen()\n                    : document.mozCancelFullScreen\n                        ? document.mozCancelFullScreen()\n                    : document.webkitExitFullscreen\n                        ? document.webkitExitFullscreen()\n                    : null\n                }\n            })\n        }\n    }\n})","angular.module('ShinyaNews.i18nDirective', [])\n.directive('syNewsI18n', function (){\n    return {\n        restrict: 'E',\n        replace : true,\n        template: '\n            <div class=\"corner--top--left animate--faster\">\n                <div ng-repeat=\"country in countryList\" class=\"toolBar__button--country animate--faster\" ng-class=\"country\" ng-click=\"changeCountry(country)\">\n                    {{country}}\n                </div>\n            </div>\n        ',\n        controller: ['$scope', '$timeout', '$state', '$stateParams' , 'store', 'sySelectNewsItem',\n            function ($scope, $timeout, $state, $stateParams, store, sySelectNewsItem){\n\n            var country_list = ['HK', 'CN', 'JP', 'TW', 'US', 'BR', 'IN', 'KR', 'RU', 'DE', 'FR']\n\n            $scope.countryList = [$scope.selectCountry]\n            $scope.changeCountry = function (country){\n                var country_len = $scope.countryList.length,\n                    index = country_list.indexOf(country);\n                if (country === $scope.countryList[0]){\n                    // 顯示／隱藏「國家列表」\n                    country_list.length === country_len\n                    ? hideCountryList(country)\n                    : showCountryList()\n                } else {\n                    // 更改國家\n                    $state.go('date', {\n                        country: country\n                    })\n                }\n            }\n            $scope.saveCountry = function (country){\n                store.set('syNewsCountry', country)\n                $scope.selectCountry = country\n                $scope.selectNewsInfo.selectCountry = country\n                $scope.selectOldNewsInfo.selectCountry = country\n                hideCountryList(country)\n                sySelectNewsItem.reset()\n            }\n            function showCountryList(){\n                for (var i = 0; i < country_list.length; i++){\n\n                    var cache = $scope.countryList,\n                        len   = cache.length - 1;\n\n                    cache[0] !== country_list[i]\n                    ? cache.push(country_list[i])\n                    : null\n\n                    $scope.countryList = cache\n                }\n            }\n            function hideCountryList(country){\n                var cache = $scope.countryList,\n                    len   = cache.length - 1,\n                    index = cache.indexOf(country);\n\n                cache.splice(index, 1)\n                cache.unshift(country)\n                $scope.countryList = cache\n\n                $timeout(function (){\n                    if (country === cache[0]){\n                        $scope.countryList = [country]\n                    }\n                })\n            }\n        }]\n    }\n})","angular.module('ShinyaNews.stopPropagationDirective', [])\n.directive('syNewsStopPropagation', function (){\n    return {\n        restrict: 'A',\n        link: function (scope, elem, attr){\n            elem.bind('click', function (e){\n                e.stopPropagation()\n            })\n            elem.bind('touchstart', function (e){\n                e.stopPropagation()\n            })\n        }\n    }\n})","angular.module('ShinyaNews.timeMachineDirective', [])\n.directive('syNewsTimeMachine', function (){\n    return {\n        restrict: 'E',\n        template: '\n            <div>\n                <div ng-if=\"isShowTimeMachine\" ng-click=\"toggleTimeMachine()\" class=\"timeMachine animate--faster\">\n                    <div class=\"vertically_center\">\n                        <div class=\"timeMachine__inner\">\n                            <form novalidate ng-submit=\"timeMachineSelectNews()\" name=\"form\" sy-news-stop-propagation>\n                                <div ng-if=\"!isOldNews\">\n                                    <input sy-news-autofocus type=\"number\" placeholder=\"H\" ng-model=\"timeMachineInfo.H\" class=\"animate--faster\" min=\"1\" max=\"24\" required>:\n                                    <input type=\"number\" placeholder=\"00\" disabled>\n                                </div>\n                                <div ng-if=\"isOldNews\">\n                                    <input type=\"number\" placeholder=\"Y\" ng-model=\"timeMachineInfo.Y\" min=\"15\" max=\"16\" required>-\n                                    <input type=\"number\" placeholder=\"M\" ng-model=\"timeMachineInfo.M\" class=\"animate--faster\" min=\"1\" max=\"12\" required>-\n                                    <input sy-news-autofocus type=\"number\" placeholder=\"D\" ng-model=\"timeMachineInfo.D\" class=\"animate--faster\" min=\"1\" max=\"31\" required>\n                                </div>\n                            </form>\n                            <div sy-news-stop-propagation>\n                                <svg ng-click=\"timeMachineSelectNews(-1)\" class=\"timeMachine__button timeMachine__button--fillTRI float--left\" viewBox=\"0 0 208 208\" xmlns=\"http://www.w3.org/2000/svg\">\n                                    <g fill=\"#FFF\" stroke=\"#000\" stroke-width=\"7\">\n                                        <circle cx=\"104\" cy=\"104\" r=\"100\"/>\n                                        <g stroke-linecap=\"round\" stroke-linejoin=\"round\">\n                                            <path d=\"M97.489 59l-44.489 44.567 44.489 44.567\"/>\n                                            <path class=\"animate--faster\" d=\"M135 149v-89.135l-49.723 44.567 49.723 44.567z\"/>\n                                        </g>\n                                    </g>\n                                </svg>\n                                <svg ng-click=\"timeMachineSelectNews()\" class=\"timeMachine__button timeMachine__button--fillBG\" ng-class=\"{\\'timeMachine__button--invalid\\': form.$invalid}\" viewBox=\"0 0 208 208\" xmlns=\"http://www.w3.org/2000/svg\" >\n                                    <g class=\"animate--faster\" fill=\"#FFF\" stroke=\"#000\" stroke-width=\"7\">\n                                        <circle stroke=\"#000\" cx=\"104\" cy=\"104\" r=\"100\"/>\n                                        <g class=\"animate--faster\" stroke=\"#000\" stroke-linecap=\"round\">\n                                            <path d=\"M82 146l70.711-70.711\"/>\n                                            <path d=\"M82 146l-25.456-25.456\"/>\n                                        </g>\n                                    </g>\n                                </svg>\n                                <svg ng-click=\"toggleTimeMachine()\" class=\"timeMachine__button timeMachine__button--fillBG\" viewBox=\"0 0 208 208\" xmlns=\"http://www.w3.org/2000/svg\">\n                                    <g class=\"animate--faster\" fill=\"#FFF\" stroke=\"#000\" stroke-width=\"7\">\n                                        <circle storke=\"#000\" cx=\"104\" cy=\"104\" r=\"100\"/>\n                                        <g class=\"animate--faster\" stroke=\"#000\" stroke-linecap=\"round\">\n                                            <path d=\"M76.427 132.987l56.56-56.56\"/>\n                                            <path d=\"M132.284 132.284l-56.569-56.569\"/>\n                                        </g>\n                                    </g>\n                                </svg>\n                                <svg ng-click=\"timeMachineSelectNews(1)\" class=\"timeMachine__button timeMachine__button--fillTRI float--right\" viewBox=\"0 0 208 208\" xmlns=\"http://www.w3.org/2000/svg\">\n                                    <g fill=\"#FFF\" stroke=\"#000\" stroke-width=\"7\">\n                                        <circle cx=\"104\" cy=\"104\" r=\"100\"/>\n                                        <g stroke-linecap=\"round\" stroke-linejoin=\"round\">\n                                            <path d=\"M111.511 59l44.489 44.567-44.489 44.567\"/>\n                                            <path class=\"animate--faster\" d=\"M74 149v-89.135l49.723 44.567-49.723 44.567z\"/>\n                                        </g>\n                                    </g>\n                                </svg>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <svg ng-click=\"toggleTimeMachine()\" class=\"toolBar__button--timeMachine animate--faster\" viewBox=\"0 0 214 214\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <g transform=\"translate(7 7)\" fill=\"none\">\n                        <circle class=\"animate--faster\" stroke=\"#CECECF\" stroke-width=\"7\" cx=\"100\" cy=\"100\" r=\"100\"/>\n                        <g class=\"animate--faster\" transform=\"translate(26 25)\" fill=\"#CECECF\">\n                            <circle cx=\"74.5\" cy=\"75.5\" r=\"18.5\"/>\n                            <circle cx=\"130.5\" cy=\"75.5\" r=\"18.5\"/>\n                            <circle cx=\"18.5\" cy=\"75.5\" r=\"18.5\"/>\n                            <circle cx=\"74.5\" cy=\"19.5\" r=\"18.5\"/>\n                            <circle cx=\"74.5\" cy=\"131.5\" r=\"18.5\"/>\n                        </g>\n                    </g>\n                </svg>\n            </div>\n        ',\n        controller: ['$scope', function ($scope){\n            $scope.toggleTimeMachine = function (){\n                $scope.timeMachineInfo = {\n                    Y: new Date($scope.selectOldNewsInfo.selectDate).getFullYear() % 2000,\n                    M: new Date($scope.selectOldNewsInfo.selectDate).getMonth() + 1,\n                    D: new Date($scope.selectOldNewsInfo.selectDate).getDate(),\n                    H: new Date($scope.selectNewsInfo.selectDate).getHours()\n                }\n                $scope.isShowTimeMachine = !$scope.isShowTimeMachine\n            }\n        }]\n    }\n})","angular.module('ShinyaNews.UIServices', [])\n.service('syUI', ['$timeout', function($timeout){\n\n    // 翻面動畫\n    this.cardFlip = function(){\n        var elem = angular.element(document.getElementById('view-newsBox'))\n        elem.addClass('cardFlip')\n        $timeout(function (){\n            elem.removeClass('cardFlip')\n        }, 777)\n    },\n    // 切換背景色\n    this.toggleBGC = function (){\n        angular\n        .element(document.documentElement)\n        .toggleClass('oldNews')\n    },\n    // 切換新聞轉換方向\n    this.toggleDirection = function (step){\n        var elem = angular.element(document.getElementById('view-newsBox'))\n        if (step === 1){\n            elem.removeClass('rtl')\n        } else {\n            elem.addClass('rtl')\n        }\n    }\n}])","angular.module('ShinyaNews.oneDayStoreServices', [])\n.service('syOneDayStore', ['$window', 'store', 'syNewsTimeHelper', \n    function($window, store, syNewsTimeHelper){\n    \n    var oneDayStore = store.getNamespacedStore('one-day-news', '-')\n\n    this.get = function (newsID){\n        return oneDayStore.get(newsID)\n    },\n    // 存储新闻与本地並設置過期時間\n    this.set = function (newsID, news){\n        oneDayStore.set(newsID, news)\n        var tomorrow = Date.now() + 86400000\n        store.set('oneDayNewsExpires', syNewsTimeHelper.getDayMs(tomorrow))\n    },\n    // 清除過期的新聞\n    this.removeAll = function (){\n        var ls = $window.localStorage,\n            len = localStorage.length,\n            reg = /^one-day-news-/,\n            j = 0;\n        for (var i = 0; i < len; i++){\n            reg.test(ls.key(j))\n                ? store.remove(ls.key(j))\n                : j ++\n        }\n    }\n}])","angular.module('ShinyaNews.selectNewsItemServices', [])\n.service('sySelectNewsItem', function(){\n\n    // 當前新聞項\n    this.id = -1,\n    // 選擇新聞項\n    this.go = function (step){\n        var newsItemList = document.getElementsByClassName('newsBox__news__item__title'),\n            len          = newsItemList.length;\n\n        if (step === -1 && this.id > 0 && this.id < len){\n            this.id--\n            newsItemList[this.id].focus()\n        } else if (step === 1 && this.id >= -1 && this.id < len - 1){\n            this.id++\n            newsItemList[this.id].focus()\n        }\n    },\n    // 重置新聞項\n    this.reset = function (){\n        this.id = -1\n    }\n})","angular.module('ShinyaNews.timeHelperServices', [])\n.service('syNewsTimeHelper', function(){\n\n    this.getHoursMs = function(hour){\n        var date = new Date()\n        return  Date.parse(\n                    new Date(\n                            date.getFullYear(),\n                            date.getMonth(),\n                            date.getDate(),\n                            hour\n                        )\n                )\n    },\n    this.getDayMs = function(date){\n        var date = new Date(date)\n        return  Date.parse(\n                    new Date(\n                            date.getFullYear(),\n                            date.getMonth(),\n                            date.getDate()\n                        )\n                )\n    },\n    this.getDateObj = function (dateMs){\n        var date = new Date(dateMs)\n        return {\n            year : date.getFullYear(),\n            month: date.getMonth() + 1,\n            day  : date.getDate()\n        }\n    },\n    this.isToday = function (year, month, day){\n        var now       = new Date(),\n            now_year  = now.getFullYear(),\n            now_month = now.getMonth() + 1,\n            now_day   = now.getDate();\n\n        return year == now_year && month == now_month && day == now_day\n    },\n    this.toDayMs = function (year, month, day){\n        return Date.parse(\n                new Date(year, month - 1, day)\n            )\n    }\n    this.toHourMs = function (year, month, day, hour){\n        return Date.parse(\n                new Date(year, month - 1, day, hour)\n            )\n    }\n})\n\n"],"sourceRoot":"/source/"}