{"version":3,"sources":["core.js","syNews-timeHelper.js"],"names":["angular","module","controller","$scope","$http","$timeout","syNewsTimeHelper","getSelectedDateNews","selectData","isShow","post","success","data","status","headers","config","newsBox","msg","error","checkSelectNewsCaret","selectDate","selectNewsInfo","isHideCaretLeft","getLocalDayMs","Date","isHideCaretRight","now","checkSelectOldNewsCaret","selectOldNewsInfo","getUTCDayMs","getUTCHours","selectCountry","isAllDay","isOldNews","toggleNews","element","document","documentElement","toggleClass","selectNews","step","service","this","date","UTC","getUTCFullYear","getUTCMonth","getUTCDate","parse","getFullYear","getMonth","getDate"],"mappings":"AAAAA,QAAQC,OAAO,cACX,UACA,YACA,kCAEHC,WAAW,kBAAmB,SAAU,QAAS,WAAY,mBAAoB,SAAUC,EAAQC,EAAOC,EAAUC,GAEjH,QAASC,GAAoBC,GACzBL,EAAOM,QAAS,EAChBL,EACCM,KAAK,2BAA4BF,GACjCG,QAAQ,SAAUC,EAAMC,EAAQC,EAASC,GACtCV,EAAS,WACLF,EAAOa,QAAUJ,EAAKK,IACtBd,EAAOM,QAAS,GACjB,OAENS,MAAM,SAAUN,EAAMC,EAAQC,EAASC,GACpCV,EAAS,WACLF,EAAOa,WACPb,EAAOM,QAAS,GACjB,OA0CX,QAASU,KACL,GAAIC,GAAajB,EAAOkB,eAAeD,UAEvCjB,GAAOmB,gBAAkBF,EAAa,OAAYd,EAAiBiB,cAAc,GAAIC,QACnF,GACA,EAEFrB,EAAOsB,iBAAmBL,EAAa,KAAUI,KAAKE,OACpD,GACA,EAEN,QAASC,KACL,GAAIP,GAAajB,EAAOyB,kBAAkBR,UAE1CjB,GAAOsB,iBAAmBL,EAAa,OAAYI,KAAKE,OACtD,GACA,EAtDNvB,EAAOM,QAAS,EAEhBN,EAAOkB,gBACHD,WAAYd,EAAiBuB,YAAY,GAAIL,OAAqC,MAA3B,GAAIA,OAAOM,cAClEC,cAAe,KACfC,UAAU,GAGd7B,EAAOyB,mBACHR,WAAYd,EAAiBuB,YAAY,GAAIL,OAAU,MACvDO,cAAe,KACfC,UAAU,GAIdzB,EAAoBJ,EAAOkB,gBAG3BlB,EAAO8B,WAAY,EAEnB9B,EAAOa,WACPb,EAAO+B,WAAa,WAChB/B,EAAO8B,WAAa9B,EAAO8B,UAE3BjC,QACCmC,QAAQC,SAASC,iBACjBC,YAAY,WAGbnB,IACAQ,IAEEpB,EADFJ,EAAO8B,UACe9B,EAAOyB,kBACPzB,EAAOkB,iBAGjClB,EAAOmB,iBAAmB,EAC1BnB,EAAOsB,kBAAmB,EAmB1BN,IACAhB,EAAOoC,WAAa,SAAUC,GACrBrC,EAAO8B,WAOR9B,EAAOyB,kBAAkBR,YAAc,MAAWoB,EAClDjC,EAAoBJ,EAAOyB,mBAC3BD,MAPAxB,EAAOkB,eAAeD,YAAc,KAAUoB,EAC9CjC,EAAoBJ,EAAOkB,gBAC3BF;ACvFZnB,QAAQC,OAAO,oCACdwC,QAAQ,mBAAoB,WAEzBC,KAAKb,YAAc,SAASc,GACxB,MAAQnB,MAAKoB,IACDD,EAAKE,iBACLF,EAAKG,cACLH,EAAKI,eAGrBL,KAAKnB,cAAgB,SAASoB,GAC1B,MAAQnB,MAAKwB,MACD,GAAIxB,MACImB,EAAKM,cACLN,EAAKO,WACLP,EAAKQ","file":"sy-news.min.js","sourcesContent":["angular.module('ShinyaNews', [\n    'ngTouch',\n    'ngAnimate',\n    'ShinyaNews.timeHelperServices'\n])\n.controller('rootController', ['$scope', '$http', '$timeout', 'syNewsTimeHelper', function ($scope, $http, $timeout, syNewsTimeHelper){\n\n    function getSelectedDateNews(selectData){\n        $scope.isShow = false\n        $http\n        .post('/api/getSelectedDateNews', selectData)\n        .success(function (data, status, headers, config){\n            $timeout(function (){\n                $scope.newsBox = data.msg\n                $scope.isShow = true\n            }, 717)\n        })\n        .error(function (data, status, headers, config){\n            $timeout(function (){\n                $scope.newsBox = []\n                $scope.isShow = true\n            }, 717)\n            // cb('error', data.msg || $translate.instant('chat.NETWORK_ERROR_MSG'))\n        })\n    };\n    $scope.isShow = false\n    // 存儲「新聞，」當前新聞日期信息\n    $scope.selectNewsInfo = {\n        selectDate: syNewsTimeHelper.getUTCDayMs(new Date()) + new Date().getUTCHours() * 3600000,\n        selectCountry: 'CN',\n        isAllDay: false\n    }\n    // 存儲「舊聞。」當前新聞日期信息\n    $scope.selectOldNewsInfo = {\n        selectDate: syNewsTimeHelper.getUTCDayMs(new Date()) - 86400000,\n        selectCountry: 'CN',\n        isAllDay: true\n    }\n\n    // 獲取當前時段新聞\n    getSelectedDateNews($scope.selectNewsInfo)\n\n    // 切換「舊聞。」\n    $scope.isOldNews = false\n    // 當前顯示的新聞\n    $scope.newsBox = []\n    $scope.toggleNews = function (){\n        $scope.isOldNews = !$scope.isOldNews\n        // 背景色\n        angular\n        .element(document.documentElement)\n        .toggleClass('oldNews')\n\n        // 獲取新聞\n        checkSelectNewsCaret()\n        checkSelectOldNewsCaret()\n        $scope.isOldNews\n        ? getSelectedDateNews($scope.selectOldNewsInfo)\n        : getSelectedDateNews($scope.selectNewsInfo)\n    }\n\n    $scope.isHideCaretLeft  = false\n    $scope.isHideCaretRight = false\n    function checkSelectNewsCaret(){\n        var selectDate = $scope.selectNewsInfo.selectDate\n        // 小於今日 0 時\n        $scope.isHideCaretLeft = selectDate - 3600000 === syNewsTimeHelper.getLocalDayMs(new Date())\n        ? true\n        : false\n        // 大於現在時間\n        $scope.isHideCaretRight = selectDate + 3600000 > Date.now()\n        ? true\n        : false\n    }\n    function checkSelectOldNewsCaret(){\n        var selectDate = $scope.selectOldNewsInfo.selectDate\n        // 大於今日\n        $scope.isHideCaretRight = selectDate + 172800000 > Date.now()\n        ? true\n        : false\n    }\n    checkSelectNewsCaret()\n    $scope.selectNews = function (step){\n        if (!$scope.isOldNews){\n            // 選擇「新聞，」\n            $scope.selectNewsInfo.selectDate += 3600000 * step\n            getSelectedDateNews($scope.selectNewsInfo)\n            checkSelectNewsCaret()\n        } else {\n            // 選擇「舊聞。」\n            $scope.selectOldNewsInfo.selectDate += 86400000 * step\n            getSelectedDateNews($scope.selectOldNewsInfo)\n            checkSelectOldNewsCaret()\n        }\n    }\n\n}])","angular.module('ShinyaNews.timeHelperServices', [])\n.service('syNewsTimeHelper', function(){\n\n    this.getUTCDayMs = function(date){\n        return  Date.UTC(\n                    date.getUTCFullYear(),\n                    date.getUTCMonth(),\n                    date.getUTCDate()\n                )\n    },\n    this.getLocalDayMs = function(date){\n        return  Date.parse(\n                    new Date(\n                            date.getFullYear(),\n                            date.getMonth(),\n                            date.getDate()\n                        )\n                )\n    }\n})"],"sourceRoot":"/source/"}